{% extends 'base.html' %}

{% block content %}

<div class="main-container"> 
    
    <h2 class="title">Activities</h2>
        
        <div class="card-container">
    
                <div class="activity-content-container">
                    <h3 class="activity-name">{{ activity.name }}</h3>
                    <div class="activity-description-container">
                        <p>CATEGORY: {{ activity.category }}</p>
                        <p>DATE: {{ activity.date }}</p>
                        <p>DURATION: {{ activity.duration }}</p>
                        <p>START: {{ activity.start }}</p>
                        <p>LOCATION: {{ activity.location }}</p>
                        <p>ATTENDEES: {{ activity.attendees }}</p><br>
                    </div>
                    {% if user == activity.user %}
                    <div class="button-container">
                        <div class="edit-delete-container">
                            <form action="{% url 'activities_update' activity.id %}">
                                <input type="submit" value="EDIT" class="edit-btn">
                            </form>
                            <form action="{% url 'activities_delete' activity.id %}">
                                <input type="submit" value="DELETE" class="delete-btn">
                            </form>
    
                        </div>

                    </div>
                    {% endif %}
                        
    
                </div>

                
    
        </div>

        <div class="card-container">

            <table class="striped">
                <tbody>
                  {% for proposal in activity.proposal_set.all %}
                      <br><tr>User: {{proposal.user}}</tr>
                      <br/>
                      <tr>Suggestion: {{proposal.suggestion}}</tr>
                      <br/>
                      <tr>Location: {{proposal.location}}</tr>
                      <br/><br/>
                  {% endfor %}
                </tbody>
              </table>

              <div class="activity-content-container">
                <form action="{% url 'add_proposal' activity.id %}" method="post">
                    {% csrf_token %}
                    {{ proposal_form.as_p }}
                    <input type="submit" class="create-btn" value="ADD PROPOSAL"><br><br>
                  </form>
            </div>

    </div>
</div>


    


{% endblock content %}
    